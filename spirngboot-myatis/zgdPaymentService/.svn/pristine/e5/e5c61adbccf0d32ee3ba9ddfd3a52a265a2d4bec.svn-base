<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ule.uhj.app.zgd.dao.ForecastResultMapper">

    <resultMap id="AllColumnMap" type="com.ule.uhj.app.zgd.model.ForecastResult">
        <result column="id" property="id"/>
        <result column="user_only_id" property="userOnlyId"/>
        <result column="apply_id" property="applyId"/>
        <result column="forecast_result" property="forecastResult"/>
        <result column="forecast_result_show" property="forecastResultShow"/>
        <result column="business_scope" property="businessScope"/>
        <result column="choose_result" property="chooseResult"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>

    <sql id="all_column">
        id,
        user_only_id,
        apply_id,
        forecast_result,
        forecast_result_show,
        business_scope,
        choose_result,
        create_time,
        update_time
    </sql>

    <insert id="insert">
        <selectKey keyProperty="id" resultType="java.lang.Long" order="BEFORE">
            select ULEAPP_FINANCECR.SEQ_T_J_FORECAST_RESULT.nextval from dual
        </selectKey>
        INSERT INTO ULEAPP_FINANCECR.T_J_FORECAST_RESULT
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null"> id, </if>
            <if test="userOnlyId != null"> user_only_id, </if>
            <if test="applyId != null"> apply_id, </if>
            <if test="forecastResult != null"> forecast_result, </if>
            <if test="forecastResultShow != null"> forecast_result_show, </if>
            <if test="businessScope != null"> business_scope, </if>
            <if test="chooseResult != null"> choose_result, </if>
            create_time,
            update_time,
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null"> #{id}, </if>
            <if test="userOnlyId != null"> #{userOnlyId}, </if>
            <if test="applyId != null"> #{applyId}, </if>
            <if test="forecastResult != null"> #{forecastResult}, </if>
            <if test="forecastResultShow != null"> #{forecastResultShow}, </if>
            <if test="businessScope != null"> #{businessScope}, </if>
            <if test="chooseResult != null"> #{chooseResult}, </if>
            to_char(sysdate,'yyyy-MM-dd HH24:mi:ss'),
            to_char(sysdate,'yyyy-MM-dd HH24:mi:ss'),
        </trim>
    </insert>

    <update id="update">
        UPDATE ULEAPP_FINANCECR.T_J_FORECAST_RESULT
        <set>
            <if test="forecastResult != null"> forecast_result = #{forecastResult}, </if>
            <if test="forecastResultShow != null"> forecast_result_show = #{forecastResultShow}, </if>
            <if test="businessScope != null"> business_scope = #{businessScope}, </if>
            <if test="chooseResult != null"> choose_result = #{chooseResult}, </if>
            update_time = to_char(sysdate,'yyyy-MM-dd HH24:mi:ss')
        </set>
         WHERE user_only_id = #{userOnlyId} AND apply_id = #{applyId}
    </update>

    <select id="selectByUserOnlyIdAndApplyId" resultMap="AllColumnMap">
        SELECT
        <include refid="all_column"/>
        FROM ULEAPP_FINANCECR.T_J_FORECAST_RESULT
        WHERE user_only_id = #{userOnlyId}
        AND apply_id = #{applyId}
    </select>

    <select id="select" resultMap="AllColumnMap">
        SELECT
        <include refid="all_column"/>
        FROM ULEAPP_FINANCECR.T_J_FORECAST_RESULT
        <where>
            <if test="id != null"> AND id = #{id} </if>
            <if test="userOnlyId != null"> AND user_only_id = #{userOnlyId} </if>
            <if test="applyId != null"> AND apply_id = #{applyId} </if>
            <if test="forecastResult != null"> AND forecast_result = #{forecastResult} </if>
            <if test="forecastResultShow != null"> AND forecast_result_show = #{forecastResultShow} </if>
            <if test="businessScope != null"> AND business_scope = #{businessScope} </if>
            <if test="chooseResult != null"> AND choose_result = #{chooseResult} </if>
            <if test="createTime != null"> AND create_time = #{createTime} </if>
            <if test="updateTime != null"> AND update_time = #{updateTime} </if>
        </where>
    </select>

</mapper>
